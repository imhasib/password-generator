var pg=null,lengthSlider=null,quantitySlider=null,results=null;function resetInputs(e){lengthSlider.setValue([e.minLength,e.maxLength]),$("#excluded_char").val(e.excludedCharacters),$("#lower_case").prop("checked",e.includeLowercase),$("#upper_case").prop("checked",e.includeUppercase),$("#numbers").prop("checked",e.includeNumbers),$("#symbols").prop("checked",e.includeSymbols),$("#quantity").val(e.quantity)}function getInputs(){var e=lengthSlider.getValue(),t=quantitySlider.getValue();return{minLength:e[0],maxLength:e[1],excludedCharacters:$("#excluded_char").val(),includeLowercase:$("#lower_case").prop("checked"),includeUppercase:$("#upper_case").prop("checked"),includeNumbers:$("#numbers").prop("checked"),includeSymbols:$("#symbols").prop("checked"),quantity:t}}function getPassword(){$("#progressbar").show();var l=getInputs();validateInputs(l)&&new Promise(function(e,t){var s=pg.generate(l);"ok"==s.status&&(results=s.results);for(var r="",n=0;n<results.length;n++)r+=results[n]+"\n";e({results:results,resultAsText:r})}).then(function(e){$("#generated_password").html(e.resultAsText),$("#progressbar").hide(),e.results.length<=1?$("#download-button").hide():$("#download-button").show(),$("#myModal").modal("show")})}function validateInputs(e){return e.includeUppercase||e.includeLowercase||e.includeNumbers||e.includeSymbols?e.quantity<1?(showMessage("error","Minimum quantity is one."),!1):!(1e5<e.quantity)||(showMessage("error","Quantity should be less than 100000"),!1):(showMessage("error","At least one character set should be selected."),!1)}function download(e,t,s){var r=document.createElement("a"),n=new Blob([e],{type:s});r.href=URL.createObjectURL(n),r.download=t,r.click()}function copyToClipBoard(){$("#generated_password").select(),document.execCommand("copy"),showMessage("success","Password is copied to clipboard")}function showMessage(e,t){$("#alert").removeClass(),"success"==e?($("#alert").addClass("alert alert-dismissible collapse alert-success"),$("#alert_message").html("<strong>Success: </strong>"+t)):"error"==e&&($("#alert").addClass("alert alert-dismissible collapse alert-danger"),$("#alert_message").html("<strong>Error: </strong>"+t)),$("#alert").show();var s=setInterval(function(){$("#alert").hide(),clearInterval(s)},1e4)}$(function(){pg=new PasswordGenerator,(lengthSlider=new Slider("#length",{})).on("slide",function(e){document.getElementById("lengthSliderVal").textContent=e[0]+" to "+e[1]}),(quantitySlider=new Slider("#quantitySlider")).on("slide",function(e){document.getElementById("quantitySliderVal").textContent=e}),resetInputs(pg.constant),$("#alert").hide(),$("#progressbar").hide()});